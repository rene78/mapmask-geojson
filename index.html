<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mapmask â†” GeoJSON Converter</title>
  <link rel="Shortcut Icon" href="./img/favicon.ico">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css"
    integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
    crossorigin="" />
  <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"
    integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA=="
    crossorigin=""></script>
  <link rel="stylesheet" type="text/css" media="screen" href="main.css" />
</head>

<body>
  <div w3-include-html="navbar.html"></div>
  <main>
    <textarea id="textareabox" cols="110" rows="30"
      placeholder="Please paste your mapmask or GeoJSON code here. The tool will convert one or multiple GeoJSON polygons into a mapmask or vice versa."
      autofocus></textarea> <br>
    <input type="button" value="Convert to Mapmask/GeoJSON" onclick="checkInput()" />
    <p id="mapheading"></p>
    <div id="mapid"></div>
    <div id="outputCode"></div>

    <details>
      <summary>Help</summary>
      <h3>Introduction</h3>
      <p>This website can be useful for editors of <a href="https://www.wikivoyage.org/">Wikivoyage</a>. It helps to
        convert a GeoJSON polygon into a <a href="https://en.wikivoyage.org/wiki/Template:Mapmask/doc">mapmask</a> or
        vice
        versa. Just paste the GeoJSON code in the field above and click on <i>Convert</i></p>
      <h3>Video</h3>
      <iframe width="560" height="315" src="https://www.youtube.com/embed/9w9tsCDTvnw" frameborder="0"
        allow="autoplay; encrypted-media" allowfullscreen></iframe>
      <h3> Examples</h3>
      <h4>GeoJSON to Mapmask</h4>
      <ol>
        <li>Paste some example GeoJSON code into the textbox above.</li><input type="button" value="Do it!"
          id="exampleGeoJson" onclick="copyToTextarea(this.id)"> (Note: Code was taken straight from <a
          href="https://commons.wikimedia.org/wiki/Data:Amsterdam_Districts.map">Commons</a>.)
        <li>Click on Convert. A map with the districts will show up. Select any polygon on the map to convert it to
          mapmask.</li>
        <li>Use this code in a Wikivoyage article to grey out everything beyond the district border of a certain
          article.
        </li>
      </ol>
      <h4>Mapmask to GeoJSON</h4>
      <ol>
        <li>Paste some example Mapmask code into the textbox above.</li><input type="button" value="Do it!"
          id="exampleMapmask" onclick="copyToTextarea(this.id)">
        <li>Click on Convert. The polygon of the mapmask will be shown on the map. Copy the result in the textarea below
          the map and go to <a href="http://geojson.io">geojson.io</a>.</li>
        <li>Paste the result in the right field under the JSON tab and check the result on the map.</li>
        <img src="./img/geojson_io.jpg" alt="geojson.io">
        <li>Change the properties of the geometry according to your liking (i.e. change the color, add a name, etc.).
        </li>
        <li>This GeoJSON file could be saved to Wikimedia Commons and be implemented in a Wikipedia or Wikivoyage map.
        </li>
      </ol>

      <h3>Improve</h3>
      <p>If you have ideas on how to make this tool better please head over to the <a
          href="https://github.com/rene78/mapmask-geojson-converter">github page</a> and participate.</p>
    </details>
  </main>
  <script src="main.js"></script>
  <script src="example_input.js"></script>
</body>

</html>